# Slices for Kotlin

Эта коллекция привносит в язык Kotlin синтаксис для работы с коллекциями, 
схожий с тем, что есть в таких языках, как: Python, Matlab, Julia, R...

## Подключение к своему проекту:
- **Maven**

  Необходимо прописать в файле pom.xml следующее:
  ```XML
  <repository>
    <id>slices_for_kotlin-mvn-repo</id>
    <url>https://raw.github.com/eugenpolytechnic/slices_for_kotlin/mvn-repo/</url>
    <snapshots>
      <enabled>true</enabled>
      <updatePolicy>always</updatePolicy>
    </snapshots>
  </repository>
  ```
  ```XML
  <dependency>
    <groupId>ru.spbstu.kslices</groupId>
    <artifactId>kslices</artifactId>
    <version>1.0.0</version>
  </dependency>
  ```
В файлах, где непосредственно будет использоваться коллекция, необходимо прописывать:
```Kotlin
import ru.spbstu.kslices.*
```

## Про реализованную коллекцию:

Для возможности использования нижеописанного "синтаксического сахара" необходимо создать экземпляр коллекции,
именующейся SlicebleList. Сделать это можно следующими способами:
- **Воспользоваться функицей slicebleListOf()**
  ```Kotlin
  val a = slicebleListOf(1, 2, 3, 4, 5)
  ```
- **Воспользоваться методом Iterable<*>.toSlicebleList()** 
  ```Kotlin
    val a = listOf(1, 2, 3, 4, 5).toSlicebleList()
  ```
- **Воспользоваться конструктором класса SlicebleList(val list: MutableList)**  
  ```Kotlin
    val a = SlicebleList(mutableListOf(1, 2, 3, 4, 5))
  ```
Все методы, доступные MutableList, доступны также SlicebleList, и работают они аналогично 
(за исключением get и set, о которых будет сказано далее). 

## Реализованные возможности:

- **Получение и установка элементов коллекции также и по отрицательному индексу:**
  ```Kotlin
  val a = slicebleListOf(1, 2, 3, 4, 5)
  println(a[1]) // выведет 2
  println(a[-1]) // выведет 5
  println(a[-2]) // выведет 4
  a[1] = 0
  a[-2] = 100
  println(a) // выведет [1, 0, 3, 100, 5]
  ```

- **Получение элементов коллекции, соответствующих переданному списку индексов:**
  ```Kotlin
  val a = slicebleListOf(1, 2, 3, 4, 5, 6, 7, 8)
  val b = slicebleListOf(slicebleListOf(1, 2, 3), slicebleListOf(4, 5, 6), slicebleListOf(7, 8, 9))
  
  println(a[1, 4, 5]) // также может быть заменено на println(a[listOf(1, 4, 5)])
  println(b[listOf(0, 1, 0), listOf(2, 1, 0)])
  ```
  В консоли мы получим:
  ```Kotlin
  [2, 5, 6]
  [3, 5, 1]
  ```
  Обратите внимание: 
  ```Kotlin
  b[1, 1] // вернет [[4, 5, 6], [4, 5, 6]]
  b[1][1] // вернет 5
  ```
- **Установка элементов в коллекцию под индексы, переданные в виде листа:**
  ```Kotlin
  val a = slicebleListOf(1, 2, 3, 4, 5, 6)
  a[0, 2, 3] = listOf(11, 33, 44) // можно заменить на a[listOf(0, 2, 3)] = listOf(11, 33, 44)
  println(a) // вернет [11, 2, 33, 44, 5, 6]
  a[0, 2, 3] = 0 //// можно заменить на a[listOf(0, 2, 3)] = 0
  println(a) // вернет [0, 2, 0, 0, 5, 6]
  ```
  Колличество передаваемых элементов должно быть равно либо одному, либо колличеству передаваемых индексов.
  При передаче одинакового индекса несколько раз, под этот индекс будет поставлен последний элемент.
    
- **Получение элементов коллекции по переданному срезу (работает для любого уровня вложенности):**
  ```Kotlin
  val a = slicebleListOf(0, 1, 2, 3, 4, 5, 6, 7, 8)
  println(a[1..4]) //[1, 2, 3, 4]
  println(a[2..6..2]) //[2, 4, 6]
  //синтаксис слайсов: [start..end..step], может быть передан т.н. пустой элемент (` `)
  println(a[` `..4..1]) //[0, 1, 2, 3, 4]
  println(a[6..` `]) //[6, 7, 8]
  println(a[6..3..-1]) //[6, 5, 4, 3]
  println(a[` `..` `..2]) //[0, 2, 4, 6, 8]
  println(a[-3..` `]) //[6, 7, 8]
  println(a[` `..` `..-1]) // [8, 7, 6, 5, 4, 3, 2, 1, 0]
  ```
  Для случая N-мерной вложенности необходимо перечислять срезы через запятую внутри скобок:
  ```Kotlin
  a[3..10..1, -1..3..-1] //двумерный случай
  b[1..12..2, 10..0..-2, 4..-1..1] //трехмерный случай 
  ```
  
- **Установка элементов в коллекцию, под переданные в виде среза индексы:**
  ```Kotlin
  val a = slicebleListOf(1, 2, 3, 4, 5, 6)
  a[0..3..1] = listOf(11, 22, 33, 44)
  println(a) // [11, 22, 33, 44, 5, 6]
  a[1..5..2] = 0 
  println(a) // [11, 0, 33, 0, 5, 0]
  а[` `..` `] = 0
  println(a) // [0, 0, 0, 0, 0, 0]
  а[` `..` `..-1] = listOf(1, 2, 3, 4, 5, 6)
  println(a) // [6, 5, 4, 3, 2, 1]
  ```
  Колличество передаваемых элементов должно быть равно либо одному, либо колличеству передаваемых индексов.

- **Установка элементов в коллекцию, под переданные в виде IntRange индексы:**
  ```Kotlin
    val a = slicebleListOf(1, 2, 3, 4, 5, 6)
    a[0..2] = listOf(100, 200, 300)
    println(a) // [100, 200, 300, 4, 5, 6]
    a[1..5] = listOf(55, 22)
    println(a) // [100, 55, 22]
    a[0..1] = listOf(0, 1, 2, 3, 4, 5)
    println(a) // [0, 1, 2, 3, 4, 5, 22]
  ```
   Отличается от предыдущего тем, что 
   колличество передаваемых элементов **не** обязательно должно быть равно колличеству передаваемых индексов.
   Новые элементы просто встают вместо тех, что раньше были под переданными индексами.
  
